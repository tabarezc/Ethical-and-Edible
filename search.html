<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
    
<head>
    <link rel="stylesheet" href="search.css" />
    <meta charset="utf-8" />
    <title>Ethical and Edible</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

</head>
<body>

    <!--Navigation bar-->
<div id="nav-placeholder" style="width:50%; margin: auto;">

</div>

<script>
    $(function () {
        $("#nav-placeholder").load("navbar.html");
    });
</script>
<!--end of Navigation bar-->
 

<h2>Search Menu</h2>
<p>Start to type for a specific category inside the search bar to "filter" the search options.</p>

<div class="row">
  <div class="left" style="background-color:#bbb;">
    <h2>Menu</h2>
    <input type="text" id="mySearch" onkeyup="myFunction()" placeholder="Search.." title="Type in a category">
    <ul id="myMenu">
      <li><a href="#">Tomato Soup</a></li>
      <li><a href="#">Chicken Noodle Soup</a></li>
      <li><a href="#">French Onion Soup</a></li>
      <li><a href="#">Baked Potato Soup</a></li>
      <li><a href="#">Meatloaf</a></li>
      <li><a href="#">Spaghetti</a></li>
      <li><a href="#">Carne Asada Tacos</a></li>
      <li><a href="#">Baked Alaska</a></li>
      <li><a href="#">Caramel Apple Cheesecake</a></li>
    </ul>
  </div>
  
  <div class="right" style="background-color:#ddd;">
    <h2>Page Content</h2>
    <p>Start to type for a specific category inside the search bar to "filter" the search options.</p>
    <p>Some text..Some text..Some text..Some text..Some text..Some text..Some text..Some text..</p>
    <p>Some other text..Some text..Some text..Some text..Some text..Some text..Some text..Some text..</p>
    <p>Some text..</p>
  </div>
</div>
<div align="center">
    <div><button onclick="location.href='recipeLibrary.html'">Save to Recipe Library</button></div>
</div>
<script>

    var testList = document.getElementById("myMenu");
    var menu = document.createElement("li");
    //menu.outerHTML('<a href="#">Caramel Apple Cheesecake</a>');
    testList.appendChild(menu);

    function myFunction() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("mySearch");
        filter = input.value.toUpperCase();
        ul = document.getElementById("myMenu");
        li = ul.getElementsByTagName("li");
        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("a")[0];
            if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }

    const xhr = new XMLHttpRequest();

    xhr.onload = function () {
        try {
            const resObj = JSON.parse(this.responseText);
            console.log(resObj);



            //var result = resObj.filter(obj => obj.Ingredients.name == "Apple");


        } catch (e) {
            console.warn("Could not parse JSON!");
        }
    };

    xhr.open("get", "test.json");
    xhr.send();


</script>

</body>
</html>